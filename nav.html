<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>资源目录 - 智慧物联网教学支持平台</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* 加载动画样式 - 保留以便在加载内容时使用 */
    .loader {
      border: 5px solid #374151; /* 深色主题下的轨道颜色 */
      border-top: 5px solid #60a5fa; /* 粒子效果中的浅蓝色 */
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 30px auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body id="page-nav"> <div id="particles-js-nav"></div>

  <header><h1>资源目录</h1></header>

  <div class="container flex nav-page-container">
    <aside class="aside">
      <button id="btn-back-home" class="nav-btn special-btn">← 首页</button>
      <h2 id="nav-title"></h2>
      <ul id="sections-list">
        </ul>
    </aside>
    <div class="flex-1 main-content-area"> <div class="preview-area hidden" id="preview-area">
        <div class="preview-toolbar">
          <a id="download-btn" href="#" download class="toolbar-btn download">下载</a>
          <button id="fullscreen-btn" class="toolbar-btn fullscreen">全屏</button>
        </div>
        <div class="preview-container preview-content" id="preview-content">
            </div>
        <div class="slide-controls hidden" id="slide-navigation-controls">
            <button id="prev-slide-btn" class="slide-nav-button" title="上一页">‹ 上一页</button>
            <span id="slide-info" class="slide-info-text">幻灯片 1 / 1</span>
            <button id="next-slide-btn" class="slide-nav-button" title="下一页">下一页 ›</button>
        </div>
      </div>
      <div id="no-preview-placeholder" class="no-preview-placeholder-styles"> <p>请在左侧选择一个资源进行预览。</p>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="main.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const particlesNavContainer = document.getElementById('particles-js-nav');
      if (particlesNavContainer) {
        particlesJS('particles-js-nav', { // 与首页粒子效果配置保持一致或相似
          "particles": {
            "number": {
              "value": window.innerWidth < 768 ? 30 : 60, 
              "density": { "enable": true, "value_area": 800 }
            },
            "color": { "value": "#ffffff" }, // 与首页粒子颜色一致
            "shape": { "type": "circle" },
            "opacity": {
              "value": 0.5, "random": true,
              "anim": { "enable": true, "speed": 0.8, "opacity_min": 0.1, "sync": false }
            },
            "size": { "value": 3, "random": true },
            "line_linked": {
              "enable": true, "distance": window.innerWidth < 768 ? 120 : 150,
              "color": "#ffffff", "opacity": 0.4, "width": 1
            },
            "move": {
              "enable": true, "speed": 2, "direction": "none", "random": false,
              "straight": false, "out_mode": "out", "bounce": false
            }
          },
          "interactivity": {
            "detect_on": "canvas",
            "events": {
              "onhover": { "enable": true, "mode": "grab" },
              "onclick": { "enable": true, "mode": "push" }, 
              "resize": true
            },
            "modes": {
              "grab": { "distance": window.innerWidth < 768 ? 100 : 140, "line_linked": { "opacity": 1 } },
              "push": { "particles_nb": 4 } 
            }
          },
          "retina_detect": true
        });
      } else {
        console.warn("Particles container (#particles-js-nav) not found on this page. Particles will not be initialized.");
      }
    });
  </script>
</body>
</html>
